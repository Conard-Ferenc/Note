import{u as g,_ as y,o as m,c as f,b as n,n as h,t as l,e as v}from"./app.6f42be4e.js";const c={props:{autoplay:{type:Boolean,default:!0}},data(){return{music:{url:"",name:"",picurl:"",artistname:""},backgroundImg:"https://api.dujin.org/bing/1920.php"}},computed:{},mounted(){this.getMusic(),this.getBase64(this.backgroundImg,t=>{this.backgroundImg=`url(${t})`})},methods:{getBase64(t,e){return e?e(t):null},ajax({method:t="get",url:e,header:s,data:a,dataType:o,success:i,error:u}){var r=null;try{r=new XMLHttpRequest}catch{r=new ActiveXObject("Microsoft.XMLHTTP")}if(typeof a=="object"&&(a=JSON.stringify(a)),t=="get"&&a&&(e+=`?${a}`,a=""),r.open(t,`${e}`,!0),s)for(const _ in s)r.setRequestHeader(_,s[_]);else r.setRequestHeader("Content-type","application/x-www-form-urlencoded");r.send(`${a}`),r.onreadystatechange=function(){if(r.readyState==4)if(r.status==200&&i)switch(o){case"json":i(JSON.parse(r.responseText));break;default:i(r.response);break}else u&&u("Error"+r.status)}},getMusic(){let t=this;this.ajax({url:"https://api.uomg.com/api/rand.music?sort=\u70ED\u6B4C\u699C&format=json",dataType:"json",success:e=>{const{data:s}=e;s.url=s.url.replace("http:",""),s.picurl=s.picurl.replace("http:",""),t.music=s}})},update(t,e=!1){var s=this.$refs.flash;if(e==!0)return this.getMusic();t?s.style.setProperty("animation-play-state","paused",""):s.style.setProperty("animation-play-state","running","")}}},p=()=>{g(t=>({"6c09b19a":t.backgroundImg}))},d=c.setup;c.setup=d?(t,e)=>(p(),d(t,e)):p;const x=c,b={class:"musicBox"},j={ref:"flash",id:"imgbox",class:"musicBox__imgbox"},B=["href"],k=["src"],M={class:"musicBox__title"},I={class:"musicBox__artist"},P=["src","autoplay"];function S(t,e,s,a,o,i){return m(),f("div",b,[n("div",{class:"musicBox__mask",style:h({filter:o.backgroundImg?"":"blur(100px)"})},null,4),n("div",j,[n("a",{href:o.music.picurl,target:"_blank"},[n("img",{src:o.music.picurl,alt:"\u4E13\u8F91\u56FE\u7247"},null,8,k)],8,B)],512),n("h1",M,l(o.music.name),1),n("p",I,l(o.music.artistsname),1),n("audio",{ref:"audio",id:"music",src:o.music.url,autoplay:s.autoplay,controls:"controls",onEnded:e[0]||(e[0]=u=>i.update(!1,!0)),onPause:e[1]||(e[1]=u=>i.update(!0)),onPlay:e[2]||(e[2]=u=>i.update(!1))},null,40,P)])}var w=y(x,[["render",S],["__scopeId","data-v-f36b35c4"]]);const T='{"title":"Home","description":"","frontmatter":{"home":true,"heroImage":"/logo.jpg","footer":"MIT Licensed | Copyright \xA9 2022-present Conard"},"headers":[],"relativePath":"index.md","lastUpdated":1647398975380}',C={},N=Object.assign(C,{setup(t){return(e,s)=>(m(),f("div",null,[v(w)]))}});export{T as __pageData,N as default};
