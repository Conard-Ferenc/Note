import{u as g,_ as y,o as m,c as f,b as n,n as h,t as c,d as v}from"./app.41cf51e1.js";const _={props:{autoplay:{type:Boolean,default:!0}},data(){return{music:{url:"",name:"",picurl:"",artistname:""},backgroundImg:"https://api.dujin.org/bing/1920.php"}},computed:{},mounted(){this.getMusic(),this.getBase64(this.backgroundImg,s=>{this.backgroundImg=`url(${s})`})},methods:{getBase64(s,e){return e?e(s):null},ajax({method:s="get",url:e,header:t,data:o,dataType:a,success:i,error:u}){var r=null;try{r=new XMLHttpRequest}catch{r=new ActiveXObject("Microsoft.XMLHTTP")}if(typeof o=="object"&&(o=JSON.stringify(o)),s=="get"&&o&&(e+=`?${o}`,o=""),r.open(s,`${e}`,!0),t)for(const l in t)r.setRequestHeader(l,t[l]);else r.setRequestHeader("Content-type","application/x-www-form-urlencoded");r.send(`${o}`),r.onreadystatechange=function(){if(r.readyState==4)if(r.status==200&&i)switch(a){case"json":i(JSON.parse(r.responseText));break;default:i(r.response);break}else u&&u("Error"+r.status)}},getMusic(){let s=this;this.ajax({url:"https://api.uomg.com/api/rand.music?sort=\u70ED\u6B4C\u699C&format=json",dataType:"json",success:e=>{const{data:t}=e;t.url=t.url.replace("http:",""),t.picurl=t.picurl.replace("http:",""),s.music=t}})},update(s,e=!1){var t=this.$refs.flash;if(e==!0)return this.getMusic();s?t==null||t.style.setProperty("animation-play-state","paused",""):t.style.setProperty("animation-play-state","running","")}}},p=()=>{g(s=>({"2cdc3ea8":s.backgroundImg}))},d=_.setup;_.setup=d?(s,e)=>(p(),d(s,e)):p;const x=_,b={class:"musicBox"},j={ref:"flash",id:"imgbox",class:"musicBox__imgbox"},B=["href"],k=["src"],M={class:"musicBox__title"},I={class:"musicBox__artist"},P=["src","autoplay"];function S(s,e,t,o,a,i){return m(),f("div",b,[n("div",{class:"musicBox__mask",style:h({filter:a.backgroundImg?"":"blur(100px)"})},null,4),n("div",j,[n("a",{href:a.music.picurl,target:"_blank"},[n("img",{src:a.music.picurl,alt:"\u4E13\u8F91\u56FE\u7247"},null,8,k)],8,B)],512),n("h1",M,c(a.music.name),1),n("p",I,c(a.music.artistsname),1),n("audio",{ref:"audio",id:"music",src:a.music.url,autoplay:t.autoplay,controls:"controls",onEnded:e[0]||(e[0]=u=>i.update(!1,!0)),onPause:e[1]||(e[1]=u=>i.update(!0)),onPlay:e[2]||(e[2]=u=>i.update(!1)),onError:e[3]||(e[3]=u=>i.update(!1,!0))},null,40,P)])}var w=y(x,[["render",S],["__scopeId","data-v-161f4287"]]);const T='{"title":"Home","description":"","frontmatter":{"home":true,"heroImage":"/logo.jpg","footer":"MIT Licensed | Copyright \xA9 2022-present Conard"},"headers":[],"relativePath":"index.md","lastUpdated":1655386927420}',C={},E=Object.assign(C,{setup(s){return(e,t)=>(m(),f("div",null,[v(w)]))}});export{T as __pageData,E as default};
